//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a code generation tool.
//     Changes to this file may cause incorrect behavior and will be lost
//     if the code is regenerated.
//
//     Generator: IonPath Codegen
// </auto-generated>
//------------------------------------------------------------------------------

#pragma warning disable
#nullable enable


namespace ArgonContracts;

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record CreateChannelRequest(guid spaceId, string name, ChannelType kind, string desc, guid? groupId);


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record RealtimeChannel(ArgonChannel channel, IonArray<RealtimeChannelUser> users, LinkedMeetingInfo? meetInfo);


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record LinkedMeetingInfo(guid meetingId, string meetingUrl, string meetingCode, datetime startDate);


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ArgonChannel(ChannelType type, guid spaceId, guid channelId, string name, string? description, guid? groupId, string? fractionalIndex);


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ArgonMessage(i8 messageId, i8? replyId, guid channelId, guid spaceId, string text, IonArray<IMessageEntity> entities, datetime timeSent, guid sender);


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record RealtimeChannelUser(guid userId, ChannelMemberState state);


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record NotificationCounterKv(string counterType, i8 count);


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record UserActivityPresence(ActivityPresenceKind kind, u8 startTimestampSeconds, string titleName);


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChannelGroup(guid spaceId, guid groupId, string name, string? desc, bool isCollapsed, string? fractionalIndex);


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public enum ChannelType
{
    Text = 0,
    Voice = 1,
    Announcement = 2,
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public enum JoinToChannelError
{
    NONE = 0,
    CHANNEL_IS_NOT_VOICE = 1,
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public enum EntityType
{
    Hashtag = 0,
    Mention = 1,
    Email = 2,
    Url = 3,
    Monospace = 4,
    Quote = 5,
    Spoiler = 6,
    Strikethrough = 7,
    Bold = 8,
    Italic = 9,
    Underline = 10,
    Fraction = 11,
    Ordinal = 12,
    Capitalized = 13,
    SystemCallStarted = 14,
    SystemCallEnded = 15,
    SystemCallTimeout = 16,
    SystemUserJoined = 17,
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public enum StartStreamError
{
    NONE = 0,
    BAD_PARAMS = 1,
    INTERNAL_ERROR = 2,
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public enum ActivityPresenceKind
{
    GAME = 0,
    SOFTWARE = 1,
    STREAMING = 2,
    LISTEN = 3,
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
[Flags]
public enum ChannelMemberState : u4
{
    NONE = 0,
    MUTED = 2,
    MUTED_BY_SERVER = 4,
    MUTED_HEADPHONES = 8,
    MUTED_HEADPHONES_BY_SERVER = 16,
    STREAMING = 32,
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public interface IChannelInteraction : IIonService
{
    Task CreateChannel(guid spaceId, guid channelId, CreateChannelRequest request, CancellationToken ct = default);
    Task MoveChannel(guid spaceId, guid channelId, guid? targetGroupId, guid? afterChannelId, guid? beforeChannelId, CancellationToken ct = default);
    Task DeleteChannelGroup(guid spaceId, guid channelId, guid groupId, bool deleteChannels, CancellationToken ct = default);
    Task CreateChannelGroup(guid spaceId, guid channelId, string name, string? desk, CancellationToken ct = default);
    Task MoveChannelGroup(guid spaceId, guid channelId, guid? afterGroupId, guid? beforeGroupId, CancellationToken ct = default);
    Task DeleteChannel(guid spaceId, guid channelId, CancellationToken ct = default);
    Task<IonArray<RealtimeChannel>> GetChannels(guid spaceId, guid channelId, CancellationToken ct = default);
    Task UpdateChannelGroup(guid spaceId, guid channelId, guid groupId, string? name, string? description, CancellationToken ct = default);
    Task<IonArray<ArgonMessage>> QueryMessages(guid spaceId, guid channelId, i8? from, i4 limit, CancellationToken ct = default);
    Task<i8> SendMessage(guid spaceId, guid channelId, string text, IonArray<IMessageEntity> entities, i8 randomId, i8? replyTo, CancellationToken ct = default);
    Task DisconnectFromVoiceChannel(guid spaceId, guid channelId, CancellationToken ct = default);
    Task<IInterlinkResult> Interlink(guid spaceId, guid channelId, CancellationToken ct = default);
    Task<IInterlinkStreamResult> InterlinkStream(guid spaceId, guid channelId, i4 density, CancellationToken ct = default);
    Task<bool> KickMemberFromChannel(guid spaceId, guid channelId, guid memberId, CancellationToken ct = default);
    Task<bool> BeginRecord(guid spaceId, guid channelId, CancellationToken ct = default);
    Task<bool> StopRecord(guid spaceId, guid channelId, CancellationToken ct = default);
    Task<LinkedMeetingInfo> CreateLinkedMeeting(guid spaceId, guid channelId, CancellationToken ct = default);
    Task EndLinkedMeeting(guid spaceId, guid channelId, CancellationToken ct = default);
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public interface IEventBus : IIonService
{
    IAsyncEnumerable<IArgonEvent> ForServer(guid spaceId, CancellationToken ct = default);
    Task Dispatch(IArgonClientEvent ev, CancellationToken ct = default);
    IAsyncEnumerable<IArgonEvent> Pipe(IAsyncEnumerable<IArgonClientEvent>?  ev, CancellationToken ct = default);
    Task<string> PickTicket(CancellationToken ct = default);
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public interface IMessageEntity : IIonUnion<IMessageEntity>
{
    string UnionKey { get; }
    uint UnionIndex { get; }
    
    
    internal bool IsMessageEntityBold => this is MessageEntityBold;

    internal bool IsMessageEntityItalic => this is MessageEntityItalic;

    internal bool IsMessageEntityStrikethrough => this is MessageEntityStrikethrough;

    internal bool IsMessageEntitySpoiler => this is MessageEntitySpoiler;

    internal bool IsMessageEntityMonospace => this is MessageEntityMonospace;

    internal bool IsMessageEntityFraction => this is MessageEntityFraction;

    internal bool IsMessageEntityOrdinal => this is MessageEntityOrdinal;

    internal bool IsMessageEntityCapitalized => this is MessageEntityCapitalized;

    internal bool IsMessageEntityMention => this is MessageEntityMention;

    internal bool IsMessageEntityEmail => this is MessageEntityEmail;

    internal bool IsMessageEntityHashTag => this is MessageEntityHashTag;

    internal bool IsMessageEntityQuote => this is MessageEntityQuote;

    internal bool IsMessageEntityUnderline => this is MessageEntityUnderline;

    internal bool IsMessageEntityUrl => this is MessageEntityUrl;

    internal bool IsMessageEntitySystemCallStarted => this is MessageEntitySystemCallStarted;

    internal bool IsMessageEntitySystemCallEnded => this is MessageEntitySystemCallEnded;

    internal bool IsMessageEntitySystemCallTimeout => this is MessageEntitySystemCallTimeout;

    internal bool IsMessageEntitySystemUserJoined => this is MessageEntitySystemUserJoined;

}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityBold(EntityType type, i4 offset, i4 length, i4 version) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityBold);
    public uint UnionIndex => 0;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityItalic(EntityType type, i4 offset, i4 length, i4 version) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityItalic);
    public uint UnionIndex => 1;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityStrikethrough(EntityType type, i4 offset, i4 length, i4 version) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityStrikethrough);
    public uint UnionIndex => 2;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntitySpoiler(EntityType type, i4 offset, i4 length, i4 version) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntitySpoiler);
    public uint UnionIndex => 3;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityMonospace(EntityType type, i4 offset, i4 length, i4 version) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityMonospace);
    public uint UnionIndex => 4;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityFraction(EntityType type, i4 offset, i4 length, i4 version, i4 numerator, i4 denominator) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityFraction);
    public uint UnionIndex => 5;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityOrdinal(EntityType type, i4 offset, i4 length, i4 version) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityOrdinal);
    public uint UnionIndex => 6;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityCapitalized(EntityType type, i4 offset, i4 length, i4 version) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityCapitalized);
    public uint UnionIndex => 7;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityMention(EntityType type, i4 offset, i4 length, i4 version, guid userId) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityMention);
    public uint UnionIndex => 8;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityEmail(EntityType type, i4 offset, i4 length, i4 version, string email) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityEmail);
    public uint UnionIndex => 9;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityHashTag(EntityType type, i4 offset, i4 length, i4 version, string hashtag) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityHashTag);
    public uint UnionIndex => 10;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityQuote(EntityType type, i4 offset, i4 length, i4 version, guid quotedUserId) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityQuote);
    public uint UnionIndex => 11;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityUnderline(EntityType type, i4 offset, i4 length, i4 version, i4 colour) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityUnderline);
    public uint UnionIndex => 12;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntityUrl(EntityType type, i4 offset, i4 length, i4 version, string domain, string path) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntityUrl);
    public uint UnionIndex => 13;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntitySystemCallStarted(EntityType type, i4 offset, i4 length, i4 version, guid callerId, guid callId) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntitySystemCallStarted);
    public uint UnionIndex => 14;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntitySystemCallEnded(EntityType type, i4 offset, i4 length, i4 version, guid callerId, guid callId, i4 durationSeconds) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntitySystemCallEnded);
    public uint UnionIndex => 15;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntitySystemCallTimeout(EntityType type, i4 offset, i4 length, i4 version, guid callerId, guid callId) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntitySystemCallTimeout);
    public uint UnionIndex => 16;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageEntitySystemUserJoined(EntityType type, i4 offset, i4 length, i4 version, guid userId, guid? inviterId) : IMessageEntity
{
    public string UnionKey => nameof(MessageEntitySystemUserJoined);
    public uint UnionIndex => 17;
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_IMessageEntity_Formatter : IonFormatter<IMessageEntity>
{
    public IMessageEntity Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");
        var unionIndex = reader.ReadUInt32();
        IMessageEntity result;
        if (false) {}
        
        else if (unionIndex == 0)
            result = IonFormatterStorage<MessageEntityBold>.Read(reader);

        else if (unionIndex == 1)
            result = IonFormatterStorage<MessageEntityItalic>.Read(reader);

        else if (unionIndex == 2)
            result = IonFormatterStorage<MessageEntityStrikethrough>.Read(reader);

        else if (unionIndex == 3)
            result = IonFormatterStorage<MessageEntitySpoiler>.Read(reader);

        else if (unionIndex == 4)
            result = IonFormatterStorage<MessageEntityMonospace>.Read(reader);

        else if (unionIndex == 5)
            result = IonFormatterStorage<MessageEntityFraction>.Read(reader);

        else if (unionIndex == 6)
            result = IonFormatterStorage<MessageEntityOrdinal>.Read(reader);

        else if (unionIndex == 7)
            result = IonFormatterStorage<MessageEntityCapitalized>.Read(reader);

        else if (unionIndex == 8)
            result = IonFormatterStorage<MessageEntityMention>.Read(reader);

        else if (unionIndex == 9)
            result = IonFormatterStorage<MessageEntityEmail>.Read(reader);

        else if (unionIndex == 10)
            result = IonFormatterStorage<MessageEntityHashTag>.Read(reader);

        else if (unionIndex == 11)
            result = IonFormatterStorage<MessageEntityQuote>.Read(reader);

        else if (unionIndex == 12)
            result = IonFormatterStorage<MessageEntityUnderline>.Read(reader);

        else if (unionIndex == 13)
            result = IonFormatterStorage<MessageEntityUrl>.Read(reader);

        else if (unionIndex == 14)
            result = IonFormatterStorage<MessageEntitySystemCallStarted>.Read(reader);

        else if (unionIndex == 15)
            result = IonFormatterStorage<MessageEntitySystemCallEnded>.Read(reader);

        else if (unionIndex == 16)
            result = IonFormatterStorage<MessageEntitySystemCallTimeout>.Read(reader);

        else if (unionIndex == 17)
            result = IonFormatterStorage<MessageEntitySystemUserJoined>.Read(reader);

        else
            throw new InvalidOperationException();
        reader.ReadEndArray();
        return result;
    }

    public void Write(CborWriter writer, IMessageEntity value)
    {
        writer.WriteStartArray(2);
        writer.WriteUInt32(value.UnionIndex);

        if (false) {}
        
        else if (value is MessageEntityBold n_0)
        {
            if (n_0.UnionIndex != 0)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityBold>.Write(writer, n_0);
        }

        else if (value is MessageEntityItalic n_1)
        {
            if (n_1.UnionIndex != 1)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityItalic>.Write(writer, n_1);
        }

        else if (value is MessageEntityStrikethrough n_2)
        {
            if (n_2.UnionIndex != 2)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityStrikethrough>.Write(writer, n_2);
        }

        else if (value is MessageEntitySpoiler n_3)
        {
            if (n_3.UnionIndex != 3)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntitySpoiler>.Write(writer, n_3);
        }

        else if (value is MessageEntityMonospace n_4)
        {
            if (n_4.UnionIndex != 4)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityMonospace>.Write(writer, n_4);
        }

        else if (value is MessageEntityFraction n_5)
        {
            if (n_5.UnionIndex != 5)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityFraction>.Write(writer, n_5);
        }

        else if (value is MessageEntityOrdinal n_6)
        {
            if (n_6.UnionIndex != 6)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityOrdinal>.Write(writer, n_6);
        }

        else if (value is MessageEntityCapitalized n_7)
        {
            if (n_7.UnionIndex != 7)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityCapitalized>.Write(writer, n_7);
        }

        else if (value is MessageEntityMention n_8)
        {
            if (n_8.UnionIndex != 8)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityMention>.Write(writer, n_8);
        }

        else if (value is MessageEntityEmail n_9)
        {
            if (n_9.UnionIndex != 9)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityEmail>.Write(writer, n_9);
        }

        else if (value is MessageEntityHashTag n_10)
        {
            if (n_10.UnionIndex != 10)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityHashTag>.Write(writer, n_10);
        }

        else if (value is MessageEntityQuote n_11)
        {
            if (n_11.UnionIndex != 11)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityQuote>.Write(writer, n_11);
        }

        else if (value is MessageEntityUnderline n_12)
        {
            if (n_12.UnionIndex != 12)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityUnderline>.Write(writer, n_12);
        }

        else if (value is MessageEntityUrl n_13)
        {
            if (n_13.UnionIndex != 13)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntityUrl>.Write(writer, n_13);
        }

        else if (value is MessageEntitySystemCallStarted n_14)
        {
            if (n_14.UnionIndex != 14)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntitySystemCallStarted>.Write(writer, n_14);
        }

        else if (value is MessageEntitySystemCallEnded n_15)
        {
            if (n_15.UnionIndex != 15)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntitySystemCallEnded>.Write(writer, n_15);
        }

        else if (value is MessageEntitySystemCallTimeout n_16)
        {
            if (n_16.UnionIndex != 16)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntitySystemCallTimeout>.Write(writer, n_16);
        }

        else if (value is MessageEntitySystemUserJoined n_17)
        {
            if (n_17.UnionIndex != 17)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageEntitySystemUserJoined>.Write(writer, n_17);
        }
    
        else
            throw new InvalidOperationException();
        writer.WriteEndArray();    
    }
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityBold_Formatter : IonFormatter<MessageEntityBold>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityBold Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__type, __offset, __length, __version);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityBold value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityItalic_Formatter : IonFormatter<MessageEntityItalic>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityItalic Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__type, __offset, __length, __version);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityItalic value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityStrikethrough_Formatter : IonFormatter<MessageEntityStrikethrough>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityStrikethrough Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__type, __offset, __length, __version);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityStrikethrough value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntitySpoiler_Formatter : IonFormatter<MessageEntitySpoiler>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntitySpoiler Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__type, __offset, __length, __version);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntitySpoiler value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityMonospace_Formatter : IonFormatter<MessageEntityMonospace>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityMonospace Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__type, __offset, __length, __version);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityMonospace value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityFraction_Formatter : IonFormatter<MessageEntityFraction>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityFraction Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __numerator = IonFormatterStorage<i4>.Read(reader);
        var __denominator = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 6);
        return new(__type, __offset, __length, __version, __numerator, __denominator);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityFraction value)
    {
        writer.WriteStartArray(6);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<i4>.Write(writer, value.numerator);
        IonFormatterStorage<i4>.Write(writer, value.denominator);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityOrdinal_Formatter : IonFormatter<MessageEntityOrdinal>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityOrdinal Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__type, __offset, __length, __version);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityOrdinal value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityCapitalized_Formatter : IonFormatter<MessageEntityCapitalized>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityCapitalized Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__type, __offset, __length, __version);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityCapitalized value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityMention_Formatter : IonFormatter<MessageEntityMention>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityMention Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 5);
        return new(__type, __offset, __length, __version, __userid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityMention value)
    {
        writer.WriteStartArray(5);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityEmail_Formatter : IonFormatter<MessageEntityEmail>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityEmail Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __email = IonFormatterStorage<string>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 5);
        return new(__type, __offset, __length, __version, __email);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityEmail value)
    {
        writer.WriteStartArray(5);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<string>.Write(writer, value.email);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityHashTag_Formatter : IonFormatter<MessageEntityHashTag>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityHashTag Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __hashtag = IonFormatterStorage<string>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 5);
        return new(__type, __offset, __length, __version, __hashtag);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityHashTag value)
    {
        writer.WriteStartArray(5);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<string>.Write(writer, value.hashtag);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityQuote_Formatter : IonFormatter<MessageEntityQuote>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityQuote Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __quoteduserid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 5);
        return new(__type, __offset, __length, __version, __quoteduserid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityQuote value)
    {
        writer.WriteStartArray(5);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<guid>.Write(writer, value.quotedUserId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityUnderline_Formatter : IonFormatter<MessageEntityUnderline>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityUnderline Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __colour = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 5);
        return new(__type, __offset, __length, __version, __colour);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityUnderline value)
    {
        writer.WriteStartArray(5);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<i4>.Write(writer, value.colour);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntityUrl_Formatter : IonFormatter<MessageEntityUrl>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntityUrl Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __domain = IonFormatterStorage<string>.Read(reader);
        var __path = IonFormatterStorage<string>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 6);
        return new(__type, __offset, __length, __version, __domain, __path);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntityUrl value)
    {
        writer.WriteStartArray(6);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<string>.Write(writer, value.domain);
        IonFormatterStorage<string>.Write(writer, value.path);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntitySystemCallStarted_Formatter : IonFormatter<MessageEntitySystemCallStarted>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntitySystemCallStarted Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __callerid = IonFormatterStorage<guid>.Read(reader);
        var __callid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 6);
        return new(__type, __offset, __length, __version, __callerid, __callid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntitySystemCallStarted value)
    {
        writer.WriteStartArray(6);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<guid>.Write(writer, value.callerId);
        IonFormatterStorage<guid>.Write(writer, value.callId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntitySystemCallEnded_Formatter : IonFormatter<MessageEntitySystemCallEnded>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntitySystemCallEnded Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __callerid = IonFormatterStorage<guid>.Read(reader);
        var __callid = IonFormatterStorage<guid>.Read(reader);
        var __durationseconds = IonFormatterStorage<i4>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 7);
        return new(__type, __offset, __length, __version, __callerid, __callid, __durationseconds);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntitySystemCallEnded value)
    {
        writer.WriteStartArray(7);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<guid>.Write(writer, value.callerId);
        IonFormatterStorage<guid>.Write(writer, value.callId);
        IonFormatterStorage<i4>.Write(writer, value.durationSeconds);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntitySystemCallTimeout_Formatter : IonFormatter<MessageEntitySystemCallTimeout>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntitySystemCallTimeout Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __callerid = IonFormatterStorage<guid>.Read(reader);
        var __callid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 6);
        return new(__type, __offset, __length, __version, __callerid, __callid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntitySystemCallTimeout value)
    {
        writer.WriteStartArray(6);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<guid>.Write(writer, value.callerId);
        IonFormatterStorage<guid>.Write(writer, value.callId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageEntitySystemUserJoined_Formatter : IonFormatter<MessageEntitySystemUserJoined>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageEntitySystemUserJoined Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __type = IonFormatterStorage<EntityType>.Read(reader);
        var __offset = IonFormatterStorage<i4>.Read(reader);
        var __length = IonFormatterStorage<i4>.Read(reader);
        var __version = IonFormatterStorage<i4>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __inviterid = reader.ReadNullable<guid>();
        reader.ReadEndArrayAndSkip(arraySize - 6);
        return new(__type, __offset, __length, __version, __userid, __inviterid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageEntitySystemUserJoined value)
    {
        writer.WriteStartArray(6);
        IonFormatterStorage<EntityType>.Write(writer, value.type);
        IonFormatterStorage<i4>.Write(writer, value.offset);
        IonFormatterStorage<i4>.Write(writer, value.length);
        IonFormatterStorage<i4>.Write(writer, value.version);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<guid>.WriteNullable(writer, value.inviterId);
        writer.WriteEndArray();
    }
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public interface IInterlinkResult : IIonUnion<IInterlinkResult>
{
    string UnionKey { get; }
    uint UnionIndex { get; }
    
    
    internal bool IsSuccessJoinVoice => this is SuccessJoinVoice;

    internal bool IsFailedJoinVoice => this is FailedJoinVoice;

}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record SuccessJoinVoice(RtcEndpoint rtc, string token) : IInterlinkResult
{
    public string UnionKey => nameof(SuccessJoinVoice);
    public uint UnionIndex => 0;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record FailedJoinVoice(JoinToChannelError error) : IInterlinkResult
{
    public string UnionKey => nameof(FailedJoinVoice);
    public uint UnionIndex => 1;
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_IInterlinkResult_Formatter : IonFormatter<IInterlinkResult>
{
    public IInterlinkResult Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");
        var unionIndex = reader.ReadUInt32();
        IInterlinkResult result;
        if (false) {}
        
        else if (unionIndex == 0)
            result = IonFormatterStorage<SuccessJoinVoice>.Read(reader);

        else if (unionIndex == 1)
            result = IonFormatterStorage<FailedJoinVoice>.Read(reader);

        else
            throw new InvalidOperationException();
        reader.ReadEndArray();
        return result;
    }

    public void Write(CborWriter writer, IInterlinkResult value)
    {
        writer.WriteStartArray(2);
        writer.WriteUInt32(value.UnionIndex);

        if (false) {}
        
        else if (value is SuccessJoinVoice n_0)
        {
            if (n_0.UnionIndex != 0)
                throw new InvalidOperationException();
            IonFormatterStorage<SuccessJoinVoice>.Write(writer, n_0);
        }

        else if (value is FailedJoinVoice n_1)
        {
            if (n_1.UnionIndex != 1)
                throw new InvalidOperationException();
            IonFormatterStorage<FailedJoinVoice>.Write(writer, n_1);
        }
    
        else
            throw new InvalidOperationException();
        writer.WriteEndArray();    
    }
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_SuccessJoinVoice_Formatter : IonFormatter<SuccessJoinVoice>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public SuccessJoinVoice Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __rtc = IonFormatterStorage<RtcEndpoint>.Read(reader);
        var __token = IonFormatterStorage<string>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__rtc, __token);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, SuccessJoinVoice value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<RtcEndpoint>.Write(writer, value.rtc);
        IonFormatterStorage<string>.Write(writer, value.token);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_FailedJoinVoice_Formatter : IonFormatter<FailedJoinVoice>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public FailedJoinVoice Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __error = IonFormatterStorage<JoinToChannelError>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__error);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, FailedJoinVoice value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<JoinToChannelError>.Write(writer, value.error);
        writer.WriteEndArray();
    }
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public interface IInterlinkStreamResult : IIonUnion<IInterlinkStreamResult>
{
    string UnionKey { get; }
    uint UnionIndex { get; }
    
    
    internal bool IsSuccessStartStream => this is SuccessStartStream;

    internal bool IsFailedStartStream => this is FailedStartStream;

}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record SuccessStartStream(RtcEndpoint rtc, string token, string whipEndpoint) : IInterlinkStreamResult
{
    public string UnionKey => nameof(SuccessStartStream);
    public uint UnionIndex => 0;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record FailedStartStream(StartStreamError error) : IInterlinkStreamResult
{
    public string UnionKey => nameof(FailedStartStream);
    public uint UnionIndex => 1;
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_IInterlinkStreamResult_Formatter : IonFormatter<IInterlinkStreamResult>
{
    public IInterlinkStreamResult Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");
        var unionIndex = reader.ReadUInt32();
        IInterlinkStreamResult result;
        if (false) {}
        
        else if (unionIndex == 0)
            result = IonFormatterStorage<SuccessStartStream>.Read(reader);

        else if (unionIndex == 1)
            result = IonFormatterStorage<FailedStartStream>.Read(reader);

        else
            throw new InvalidOperationException();
        reader.ReadEndArray();
        return result;
    }

    public void Write(CborWriter writer, IInterlinkStreamResult value)
    {
        writer.WriteStartArray(2);
        writer.WriteUInt32(value.UnionIndex);

        if (false) {}
        
        else if (value is SuccessStartStream n_0)
        {
            if (n_0.UnionIndex != 0)
                throw new InvalidOperationException();
            IonFormatterStorage<SuccessStartStream>.Write(writer, n_0);
        }

        else if (value is FailedStartStream n_1)
        {
            if (n_1.UnionIndex != 1)
                throw new InvalidOperationException();
            IonFormatterStorage<FailedStartStream>.Write(writer, n_1);
        }
    
        else
            throw new InvalidOperationException();
        writer.WriteEndArray();    
    }
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_SuccessStartStream_Formatter : IonFormatter<SuccessStartStream>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public SuccessStartStream Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __rtc = IonFormatterStorage<RtcEndpoint>.Read(reader);
        var __token = IonFormatterStorage<string>.Read(reader);
        var __whipendpoint = IonFormatterStorage<string>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__rtc, __token, __whipendpoint);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, SuccessStartStream value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<RtcEndpoint>.Write(writer, value.rtc);
        IonFormatterStorage<string>.Write(writer, value.token);
        IonFormatterStorage<string>.Write(writer, value.whipEndpoint);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_FailedStartStream_Formatter : IonFormatter<FailedStartStream>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public FailedStartStream Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __error = IonFormatterStorage<StartStreamError>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__error);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, FailedStartStream value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<StartStreamError>.Write(writer, value.error);
        writer.WriteEndArray();
    }
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public interface IArgonEvent : IIonUnion<IArgonEvent>
{
    string UnionKey { get; }
    uint UnionIndex { get; }
    
    
    internal bool IsArchetypeChanged => this is ArchetypeChanged;

    internal bool IsArchetypeCreated => this is ArchetypeCreated;

    internal bool IsChannelCreated => this is ChannelCreated;

    internal bool IsChannelModified => this is ChannelModified;

    internal bool IsChannelRemoved => this is ChannelRemoved;

    internal bool IsUserTypingEvent => this is UserTypingEvent;

    internal bool IsUserStopTypingEvent => this is UserStopTypingEvent;

    internal bool IsJoinedToChannelUser => this is JoinedToChannelUser;

    internal bool IsJoinToServerUser => this is JoinToServerUser;

    internal bool IsLeavedFromChannelUser => this is LeavedFromChannelUser;

    internal bool IsUserUpdated => this is UserUpdated;

    internal bool IsOnUserPresenceActivityChanged => this is OnUserPresenceActivityChanged;

    internal bool IsOnUserPresenceActivityRemoved => this is OnUserPresenceActivityRemoved;

    internal bool IsUserChangedStatus => this is UserChangedStatus;

    internal bool IsMessageSent => this is MessageSent;

    internal bool IsServerModified => this is ServerModified;

    internal bool IsRecordStarted => this is RecordStarted;

    internal bool IsRecordEnded => this is RecordEnded;

    internal bool IsCallIncoming => this is CallIncoming;

    internal bool IsCallFinished => this is CallFinished;

    internal bool IsCallAccepted => this is CallAccepted;

    internal bool IsCallRejected => this is CallRejected;

    internal bool IsFriendRequestReceivedEvent => this is FriendRequestReceivedEvent;

    internal bool IsFriendRequestSentEvent => this is FriendRequestSentEvent;

    internal bool IsFriendRequestAcceptedEvent => this is FriendRequestAcceptedEvent;

    internal bool IsFriendRequestDeclinedEvent => this is FriendRequestDeclinedEvent;

    internal bool IsFriendRequestCanceledEvent => this is FriendRequestCanceledEvent;

    internal bool IsFriendshipRemovedEvent => this is FriendshipRemovedEvent;

    internal bool IsUserBlockedEvent => this is UserBlockedEvent;

    internal bool IsUserUnblockedEvent => this is UserUnblockedEvent;

    internal bool IsRecentChatUpdatedEvent => this is RecentChatUpdatedEvent;

    internal bool IsChatPinnedEvent => this is ChatPinnedEvent;

    internal bool IsChatUnpinnedEvent => this is ChatUnpinnedEvent;

    internal bool IsChatReadEvent => this is ChatReadEvent;

    internal bool IsChannelGroupCreated => this is ChannelGroupCreated;

    internal bool IsChannelGroupModified => this is ChannelGroupModified;

    internal bool IsChannelGroupRemoved => this is ChannelGroupRemoved;

    internal bool IsChannelGroupReordered => this is ChannelGroupReordered;

    internal bool IsChannelReordered => this is ChannelReordered;

    internal bool IsDirectMessageSent => this is DirectMessageSent;

    internal bool IsUpdatedNotificationCounters => this is UpdatedNotificationCounters;

    internal bool IsUserSecurityDetailsUpdated => this is UserSecurityDetailsUpdated;

    internal bool IsSpaceDetailsUpdated => this is SpaceDetailsUpdated;

    internal bool IsMeetingCreatedFor => this is MeetingCreatedFor;

    internal bool IsMeetingDeletedFor => this is MeetingDeletedFor;

}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ArchetypeChanged(guid spaceId, Archetype data) : IArgonEvent
{
    public string UnionKey => nameof(ArchetypeChanged);
    public uint UnionIndex => 0;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ArchetypeCreated(guid spaceId, Archetype data) : IArgonEvent
{
    public string UnionKey => nameof(ArchetypeCreated);
    public uint UnionIndex => 1;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChannelCreated(guid spaceId, ArgonChannel data) : IArgonEvent
{
    public string UnionKey => nameof(ChannelCreated);
    public uint UnionIndex => 2;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChannelModified(guid spaceId, guid channelId, IonArray<string> bag) : IArgonEvent
{
    public string UnionKey => nameof(ChannelModified);
    public uint UnionIndex => 3;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChannelRemoved(guid spaceId, guid channelId) : IArgonEvent
{
    public string UnionKey => nameof(ChannelRemoved);
    public uint UnionIndex => 4;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record UserTypingEvent(guid spaceId, guid channelId, guid userId) : IArgonEvent
{
    public string UnionKey => nameof(UserTypingEvent);
    public uint UnionIndex => 5;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record UserStopTypingEvent(guid spaceId, guid channelId, guid userId) : IArgonEvent
{
    public string UnionKey => nameof(UserStopTypingEvent);
    public uint UnionIndex => 6;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record JoinedToChannelUser(guid spaceId, guid channelId, guid userId) : IArgonEvent
{
    public string UnionKey => nameof(JoinedToChannelUser);
    public uint UnionIndex => 7;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record JoinToServerUser(guid spaceId, guid userId) : IArgonEvent
{
    public string UnionKey => nameof(JoinToServerUser);
    public uint UnionIndex => 8;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record LeavedFromChannelUser(guid spaceId, guid channelId, guid userId) : IArgonEvent
{
    public string UnionKey => nameof(LeavedFromChannelUser);
    public uint UnionIndex => 9;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record UserUpdated(guid spaceId, ArgonUser dto) : IArgonEvent
{
    public string UnionKey => nameof(UserUpdated);
    public uint UnionIndex => 10;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record OnUserPresenceActivityChanged(guid spaceId, guid userId, UserActivityPresence presence) : IArgonEvent
{
    public string UnionKey => nameof(OnUserPresenceActivityChanged);
    public uint UnionIndex => 11;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record OnUserPresenceActivityRemoved(guid spaceId, guid userId) : IArgonEvent
{
    public string UnionKey => nameof(OnUserPresenceActivityRemoved);
    public uint UnionIndex => 12;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record UserChangedStatus(guid spaceId, guid userId, UserStatus status, IonArray<string> bag) : IArgonEvent
{
    public string UnionKey => nameof(UserChangedStatus);
    public uint UnionIndex => 13;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MessageSent(guid spaceId, ArgonMessage message) : IArgonEvent
{
    public string UnionKey => nameof(MessageSent);
    public uint UnionIndex => 14;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ServerModified(guid spaceId, IonArray<string> bag) : IArgonEvent
{
    public string UnionKey => nameof(ServerModified);
    public uint UnionIndex => 15;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record RecordStarted(guid spaceId, guid channelId, guid byUserId) : IArgonEvent
{
    public string UnionKey => nameof(RecordStarted);
    public uint UnionIndex => 16;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record RecordEnded(guid spaceId, guid channelId) : IArgonEvent
{
    public string UnionKey => nameof(RecordEnded);
    public uint UnionIndex => 17;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record CallIncoming(guid userId, guid callId, guid fromId) : IArgonEvent
{
    public string UnionKey => nameof(CallIncoming);
    public uint UnionIndex => 18;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record CallFinished(guid userId, guid callId) : IArgonEvent
{
    public string UnionKey => nameof(CallFinished);
    public uint UnionIndex => 19;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record CallAccepted(guid userId, guid callId, guid fromId) : IArgonEvent
{
    public string UnionKey => nameof(CallAccepted);
    public uint UnionIndex => 20;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record CallRejected(guid userId, guid callId, guid fromId) : IArgonEvent
{
    public string UnionKey => nameof(CallRejected);
    public uint UnionIndex => 21;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record FriendRequestReceivedEvent(guid requesterId, datetime requestDate) : IArgonEvent
{
    public string UnionKey => nameof(FriendRequestReceivedEvent);
    public uint UnionIndex => 22;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record FriendRequestSentEvent(guid targetId, datetime requestDate) : IArgonEvent
{
    public string UnionKey => nameof(FriendRequestSentEvent);
    public uint UnionIndex => 23;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record FriendRequestAcceptedEvent(guid userId, datetime friendAt) : IArgonEvent
{
    public string UnionKey => nameof(FriendRequestAcceptedEvent);
    public uint UnionIndex => 24;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record FriendRequestDeclinedEvent(guid targetId) : IArgonEvent
{
    public string UnionKey => nameof(FriendRequestDeclinedEvent);
    public uint UnionIndex => 25;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record FriendRequestCanceledEvent(guid requesterId) : IArgonEvent
{
    public string UnionKey => nameof(FriendRequestCanceledEvent);
    public uint UnionIndex => 26;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record FriendshipRemovedEvent(guid userId) : IArgonEvent
{
    public string UnionKey => nameof(FriendshipRemovedEvent);
    public uint UnionIndex => 27;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record UserBlockedEvent(guid blockId) : IArgonEvent
{
    public string UnionKey => nameof(UserBlockedEvent);
    public uint UnionIndex => 28;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record UserUnblockedEvent(guid blockId) : IArgonEvent
{
    public string UnionKey => nameof(UserUnblockedEvent);
    public uint UnionIndex => 29;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record RecentChatUpdatedEvent(guid peerId, guid userId, string? lastMessage, datetime lastMessageAt) : IArgonEvent
{
    public string UnionKey => nameof(RecentChatUpdatedEvent);
    public uint UnionIndex => 30;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChatPinnedEvent(guid peerId, datetime pinnedAt) : IArgonEvent
{
    public string UnionKey => nameof(ChatPinnedEvent);
    public uint UnionIndex => 31;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChatUnpinnedEvent(guid peerId) : IArgonEvent
{
    public string UnionKey => nameof(ChatUnpinnedEvent);
    public uint UnionIndex => 32;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChatReadEvent(guid peerId) : IArgonEvent
{
    public string UnionKey => nameof(ChatReadEvent);
    public uint UnionIndex => 33;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChannelGroupCreated(guid spaceId, ChannelGroup data) : IArgonEvent
{
    public string UnionKey => nameof(ChannelGroupCreated);
    public uint UnionIndex => 34;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChannelGroupModified(guid spaceId, guid groupId, ChannelGroup data) : IArgonEvent
{
    public string UnionKey => nameof(ChannelGroupModified);
    public uint UnionIndex => 35;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChannelGroupRemoved(guid spaceId, guid groupId) : IArgonEvent
{
    public string UnionKey => nameof(ChannelGroupRemoved);
    public uint UnionIndex => 36;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChannelGroupReordered(guid spaceId, guid groupId, string fractionalIndex) : IArgonEvent
{
    public string UnionKey => nameof(ChannelGroupReordered);
    public uint UnionIndex => 37;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record ChannelReordered(guid spaceId, guid channelId, guid? targetGroupId, string fractionalIndex) : IArgonEvent
{
    public string UnionKey => nameof(ChannelReordered);
    public uint UnionIndex => 38;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record DirectMessageSent(guid senderId, guid receiverId, DirectMessage message) : IArgonEvent
{
    public string UnionKey => nameof(DirectMessageSent);
    public uint UnionIndex => 39;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record UpdatedNotificationCounters(guid userId, IonArray<NotificationCounterKv> counters) : IArgonEvent
{
    public string UnionKey => nameof(UpdatedNotificationCounters);
    public uint UnionIndex => 40;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record UserSecurityDetailsUpdated(guid userId, SecurityDetails details) : IArgonEvent
{
    public string UnionKey => nameof(UserSecurityDetailsUpdated);
    public uint UnionIndex => 41;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record SpaceDetailsUpdated(guid spaceId, ArgonSpaceBase details) : IArgonEvent
{
    public string UnionKey => nameof(SpaceDetailsUpdated);
    public uint UnionIndex => 42;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MeetingCreatedFor(guid spaceId, guid channelId, LinkedMeetingInfo meetInfo) : IArgonEvent
{
    public string UnionKey => nameof(MeetingCreatedFor);
    public uint UnionIndex => 43;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record MeetingDeletedFor(guid spaceId, guid channelId, LinkedMeetingInfo meetInfo) : IArgonEvent
{
    public string UnionKey => nameof(MeetingDeletedFor);
    public uint UnionIndex => 44;
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_IArgonEvent_Formatter : IonFormatter<IArgonEvent>
{
    public IArgonEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");
        var unionIndex = reader.ReadUInt32();
        IArgonEvent result;
        if (false) {}
        
        else if (unionIndex == 0)
            result = IonFormatterStorage<ArchetypeChanged>.Read(reader);

        else if (unionIndex == 1)
            result = IonFormatterStorage<ArchetypeCreated>.Read(reader);

        else if (unionIndex == 2)
            result = IonFormatterStorage<ChannelCreated>.Read(reader);

        else if (unionIndex == 3)
            result = IonFormatterStorage<ChannelModified>.Read(reader);

        else if (unionIndex == 4)
            result = IonFormatterStorage<ChannelRemoved>.Read(reader);

        else if (unionIndex == 5)
            result = IonFormatterStorage<UserTypingEvent>.Read(reader);

        else if (unionIndex == 6)
            result = IonFormatterStorage<UserStopTypingEvent>.Read(reader);

        else if (unionIndex == 7)
            result = IonFormatterStorage<JoinedToChannelUser>.Read(reader);

        else if (unionIndex == 8)
            result = IonFormatterStorage<JoinToServerUser>.Read(reader);

        else if (unionIndex == 9)
            result = IonFormatterStorage<LeavedFromChannelUser>.Read(reader);

        else if (unionIndex == 10)
            result = IonFormatterStorage<UserUpdated>.Read(reader);

        else if (unionIndex == 11)
            result = IonFormatterStorage<OnUserPresenceActivityChanged>.Read(reader);

        else if (unionIndex == 12)
            result = IonFormatterStorage<OnUserPresenceActivityRemoved>.Read(reader);

        else if (unionIndex == 13)
            result = IonFormatterStorage<UserChangedStatus>.Read(reader);

        else if (unionIndex == 14)
            result = IonFormatterStorage<MessageSent>.Read(reader);

        else if (unionIndex == 15)
            result = IonFormatterStorage<ServerModified>.Read(reader);

        else if (unionIndex == 16)
            result = IonFormatterStorage<RecordStarted>.Read(reader);

        else if (unionIndex == 17)
            result = IonFormatterStorage<RecordEnded>.Read(reader);

        else if (unionIndex == 18)
            result = IonFormatterStorage<CallIncoming>.Read(reader);

        else if (unionIndex == 19)
            result = IonFormatterStorage<CallFinished>.Read(reader);

        else if (unionIndex == 20)
            result = IonFormatterStorage<CallAccepted>.Read(reader);

        else if (unionIndex == 21)
            result = IonFormatterStorage<CallRejected>.Read(reader);

        else if (unionIndex == 22)
            result = IonFormatterStorage<FriendRequestReceivedEvent>.Read(reader);

        else if (unionIndex == 23)
            result = IonFormatterStorage<FriendRequestSentEvent>.Read(reader);

        else if (unionIndex == 24)
            result = IonFormatterStorage<FriendRequestAcceptedEvent>.Read(reader);

        else if (unionIndex == 25)
            result = IonFormatterStorage<FriendRequestDeclinedEvent>.Read(reader);

        else if (unionIndex == 26)
            result = IonFormatterStorage<FriendRequestCanceledEvent>.Read(reader);

        else if (unionIndex == 27)
            result = IonFormatterStorage<FriendshipRemovedEvent>.Read(reader);

        else if (unionIndex == 28)
            result = IonFormatterStorage<UserBlockedEvent>.Read(reader);

        else if (unionIndex == 29)
            result = IonFormatterStorage<UserUnblockedEvent>.Read(reader);

        else if (unionIndex == 30)
            result = IonFormatterStorage<RecentChatUpdatedEvent>.Read(reader);

        else if (unionIndex == 31)
            result = IonFormatterStorage<ChatPinnedEvent>.Read(reader);

        else if (unionIndex == 32)
            result = IonFormatterStorage<ChatUnpinnedEvent>.Read(reader);

        else if (unionIndex == 33)
            result = IonFormatterStorage<ChatReadEvent>.Read(reader);

        else if (unionIndex == 34)
            result = IonFormatterStorage<ChannelGroupCreated>.Read(reader);

        else if (unionIndex == 35)
            result = IonFormatterStorage<ChannelGroupModified>.Read(reader);

        else if (unionIndex == 36)
            result = IonFormatterStorage<ChannelGroupRemoved>.Read(reader);

        else if (unionIndex == 37)
            result = IonFormatterStorage<ChannelGroupReordered>.Read(reader);

        else if (unionIndex == 38)
            result = IonFormatterStorage<ChannelReordered>.Read(reader);

        else if (unionIndex == 39)
            result = IonFormatterStorage<DirectMessageSent>.Read(reader);

        else if (unionIndex == 40)
            result = IonFormatterStorage<UpdatedNotificationCounters>.Read(reader);

        else if (unionIndex == 41)
            result = IonFormatterStorage<UserSecurityDetailsUpdated>.Read(reader);

        else if (unionIndex == 42)
            result = IonFormatterStorage<SpaceDetailsUpdated>.Read(reader);

        else if (unionIndex == 43)
            result = IonFormatterStorage<MeetingCreatedFor>.Read(reader);

        else if (unionIndex == 44)
            result = IonFormatterStorage<MeetingDeletedFor>.Read(reader);

        else
            throw new InvalidOperationException();
        reader.ReadEndArray();
        return result;
    }

    public void Write(CborWriter writer, IArgonEvent value)
    {
        writer.WriteStartArray(2);
        writer.WriteUInt32(value.UnionIndex);

        if (false) {}
        
        else if (value is ArchetypeChanged n_0)
        {
            if (n_0.UnionIndex != 0)
                throw new InvalidOperationException();
            IonFormatterStorage<ArchetypeChanged>.Write(writer, n_0);
        }

        else if (value is ArchetypeCreated n_1)
        {
            if (n_1.UnionIndex != 1)
                throw new InvalidOperationException();
            IonFormatterStorage<ArchetypeCreated>.Write(writer, n_1);
        }

        else if (value is ChannelCreated n_2)
        {
            if (n_2.UnionIndex != 2)
                throw new InvalidOperationException();
            IonFormatterStorage<ChannelCreated>.Write(writer, n_2);
        }

        else if (value is ChannelModified n_3)
        {
            if (n_3.UnionIndex != 3)
                throw new InvalidOperationException();
            IonFormatterStorage<ChannelModified>.Write(writer, n_3);
        }

        else if (value is ChannelRemoved n_4)
        {
            if (n_4.UnionIndex != 4)
                throw new InvalidOperationException();
            IonFormatterStorage<ChannelRemoved>.Write(writer, n_4);
        }

        else if (value is UserTypingEvent n_5)
        {
            if (n_5.UnionIndex != 5)
                throw new InvalidOperationException();
            IonFormatterStorage<UserTypingEvent>.Write(writer, n_5);
        }

        else if (value is UserStopTypingEvent n_6)
        {
            if (n_6.UnionIndex != 6)
                throw new InvalidOperationException();
            IonFormatterStorage<UserStopTypingEvent>.Write(writer, n_6);
        }

        else if (value is JoinedToChannelUser n_7)
        {
            if (n_7.UnionIndex != 7)
                throw new InvalidOperationException();
            IonFormatterStorage<JoinedToChannelUser>.Write(writer, n_7);
        }

        else if (value is JoinToServerUser n_8)
        {
            if (n_8.UnionIndex != 8)
                throw new InvalidOperationException();
            IonFormatterStorage<JoinToServerUser>.Write(writer, n_8);
        }

        else if (value is LeavedFromChannelUser n_9)
        {
            if (n_9.UnionIndex != 9)
                throw new InvalidOperationException();
            IonFormatterStorage<LeavedFromChannelUser>.Write(writer, n_9);
        }

        else if (value is UserUpdated n_10)
        {
            if (n_10.UnionIndex != 10)
                throw new InvalidOperationException();
            IonFormatterStorage<UserUpdated>.Write(writer, n_10);
        }

        else if (value is OnUserPresenceActivityChanged n_11)
        {
            if (n_11.UnionIndex != 11)
                throw new InvalidOperationException();
            IonFormatterStorage<OnUserPresenceActivityChanged>.Write(writer, n_11);
        }

        else if (value is OnUserPresenceActivityRemoved n_12)
        {
            if (n_12.UnionIndex != 12)
                throw new InvalidOperationException();
            IonFormatterStorage<OnUserPresenceActivityRemoved>.Write(writer, n_12);
        }

        else if (value is UserChangedStatus n_13)
        {
            if (n_13.UnionIndex != 13)
                throw new InvalidOperationException();
            IonFormatterStorage<UserChangedStatus>.Write(writer, n_13);
        }

        else if (value is MessageSent n_14)
        {
            if (n_14.UnionIndex != 14)
                throw new InvalidOperationException();
            IonFormatterStorage<MessageSent>.Write(writer, n_14);
        }

        else if (value is ServerModified n_15)
        {
            if (n_15.UnionIndex != 15)
                throw new InvalidOperationException();
            IonFormatterStorage<ServerModified>.Write(writer, n_15);
        }

        else if (value is RecordStarted n_16)
        {
            if (n_16.UnionIndex != 16)
                throw new InvalidOperationException();
            IonFormatterStorage<RecordStarted>.Write(writer, n_16);
        }

        else if (value is RecordEnded n_17)
        {
            if (n_17.UnionIndex != 17)
                throw new InvalidOperationException();
            IonFormatterStorage<RecordEnded>.Write(writer, n_17);
        }

        else if (value is CallIncoming n_18)
        {
            if (n_18.UnionIndex != 18)
                throw new InvalidOperationException();
            IonFormatterStorage<CallIncoming>.Write(writer, n_18);
        }

        else if (value is CallFinished n_19)
        {
            if (n_19.UnionIndex != 19)
                throw new InvalidOperationException();
            IonFormatterStorage<CallFinished>.Write(writer, n_19);
        }

        else if (value is CallAccepted n_20)
        {
            if (n_20.UnionIndex != 20)
                throw new InvalidOperationException();
            IonFormatterStorage<CallAccepted>.Write(writer, n_20);
        }

        else if (value is CallRejected n_21)
        {
            if (n_21.UnionIndex != 21)
                throw new InvalidOperationException();
            IonFormatterStorage<CallRejected>.Write(writer, n_21);
        }

        else if (value is FriendRequestReceivedEvent n_22)
        {
            if (n_22.UnionIndex != 22)
                throw new InvalidOperationException();
            IonFormatterStorage<FriendRequestReceivedEvent>.Write(writer, n_22);
        }

        else if (value is FriendRequestSentEvent n_23)
        {
            if (n_23.UnionIndex != 23)
                throw new InvalidOperationException();
            IonFormatterStorage<FriendRequestSentEvent>.Write(writer, n_23);
        }

        else if (value is FriendRequestAcceptedEvent n_24)
        {
            if (n_24.UnionIndex != 24)
                throw new InvalidOperationException();
            IonFormatterStorage<FriendRequestAcceptedEvent>.Write(writer, n_24);
        }

        else if (value is FriendRequestDeclinedEvent n_25)
        {
            if (n_25.UnionIndex != 25)
                throw new InvalidOperationException();
            IonFormatterStorage<FriendRequestDeclinedEvent>.Write(writer, n_25);
        }

        else if (value is FriendRequestCanceledEvent n_26)
        {
            if (n_26.UnionIndex != 26)
                throw new InvalidOperationException();
            IonFormatterStorage<FriendRequestCanceledEvent>.Write(writer, n_26);
        }

        else if (value is FriendshipRemovedEvent n_27)
        {
            if (n_27.UnionIndex != 27)
                throw new InvalidOperationException();
            IonFormatterStorage<FriendshipRemovedEvent>.Write(writer, n_27);
        }

        else if (value is UserBlockedEvent n_28)
        {
            if (n_28.UnionIndex != 28)
                throw new InvalidOperationException();
            IonFormatterStorage<UserBlockedEvent>.Write(writer, n_28);
        }

        else if (value is UserUnblockedEvent n_29)
        {
            if (n_29.UnionIndex != 29)
                throw new InvalidOperationException();
            IonFormatterStorage<UserUnblockedEvent>.Write(writer, n_29);
        }

        else if (value is RecentChatUpdatedEvent n_30)
        {
            if (n_30.UnionIndex != 30)
                throw new InvalidOperationException();
            IonFormatterStorage<RecentChatUpdatedEvent>.Write(writer, n_30);
        }

        else if (value is ChatPinnedEvent n_31)
        {
            if (n_31.UnionIndex != 31)
                throw new InvalidOperationException();
            IonFormatterStorage<ChatPinnedEvent>.Write(writer, n_31);
        }

        else if (value is ChatUnpinnedEvent n_32)
        {
            if (n_32.UnionIndex != 32)
                throw new InvalidOperationException();
            IonFormatterStorage<ChatUnpinnedEvent>.Write(writer, n_32);
        }

        else if (value is ChatReadEvent n_33)
        {
            if (n_33.UnionIndex != 33)
                throw new InvalidOperationException();
            IonFormatterStorage<ChatReadEvent>.Write(writer, n_33);
        }

        else if (value is ChannelGroupCreated n_34)
        {
            if (n_34.UnionIndex != 34)
                throw new InvalidOperationException();
            IonFormatterStorage<ChannelGroupCreated>.Write(writer, n_34);
        }

        else if (value is ChannelGroupModified n_35)
        {
            if (n_35.UnionIndex != 35)
                throw new InvalidOperationException();
            IonFormatterStorage<ChannelGroupModified>.Write(writer, n_35);
        }

        else if (value is ChannelGroupRemoved n_36)
        {
            if (n_36.UnionIndex != 36)
                throw new InvalidOperationException();
            IonFormatterStorage<ChannelGroupRemoved>.Write(writer, n_36);
        }

        else if (value is ChannelGroupReordered n_37)
        {
            if (n_37.UnionIndex != 37)
                throw new InvalidOperationException();
            IonFormatterStorage<ChannelGroupReordered>.Write(writer, n_37);
        }

        else if (value is ChannelReordered n_38)
        {
            if (n_38.UnionIndex != 38)
                throw new InvalidOperationException();
            IonFormatterStorage<ChannelReordered>.Write(writer, n_38);
        }

        else if (value is DirectMessageSent n_39)
        {
            if (n_39.UnionIndex != 39)
                throw new InvalidOperationException();
            IonFormatterStorage<DirectMessageSent>.Write(writer, n_39);
        }

        else if (value is UpdatedNotificationCounters n_40)
        {
            if (n_40.UnionIndex != 40)
                throw new InvalidOperationException();
            IonFormatterStorage<UpdatedNotificationCounters>.Write(writer, n_40);
        }

        else if (value is UserSecurityDetailsUpdated n_41)
        {
            if (n_41.UnionIndex != 41)
                throw new InvalidOperationException();
            IonFormatterStorage<UserSecurityDetailsUpdated>.Write(writer, n_41);
        }

        else if (value is SpaceDetailsUpdated n_42)
        {
            if (n_42.UnionIndex != 42)
                throw new InvalidOperationException();
            IonFormatterStorage<SpaceDetailsUpdated>.Write(writer, n_42);
        }

        else if (value is MeetingCreatedFor n_43)
        {
            if (n_43.UnionIndex != 43)
                throw new InvalidOperationException();
            IonFormatterStorage<MeetingCreatedFor>.Write(writer, n_43);
        }

        else if (value is MeetingDeletedFor n_44)
        {
            if (n_44.UnionIndex != 44)
                throw new InvalidOperationException();
            IonFormatterStorage<MeetingDeletedFor>.Write(writer, n_44);
        }
    
        else
            throw new InvalidOperationException();
        writer.WriteEndArray();    
    }
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ArchetypeChanged_Formatter : IonFormatter<ArchetypeChanged>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ArchetypeChanged Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __data = IonFormatterStorage<Archetype>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __data);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ArchetypeChanged value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<Archetype>.Write(writer, value.data);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ArchetypeCreated_Formatter : IonFormatter<ArchetypeCreated>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ArchetypeCreated Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __data = IonFormatterStorage<Archetype>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __data);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ArchetypeCreated value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<Archetype>.Write(writer, value.data);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChannelCreated_Formatter : IonFormatter<ChannelCreated>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChannelCreated Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __data = IonFormatterStorage<ArgonChannel>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __data);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChannelCreated value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<ArgonChannel>.Write(writer, value.data);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChannelModified_Formatter : IonFormatter<ChannelModified>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChannelModified Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        var __bag = IonFormatterStorage<string>.ReadArray(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __channelid, __bag);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChannelModified value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        IonFormatterStorage<string>.WriteArray(writer, value.bag);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChannelRemoved_Formatter : IonFormatter<ChannelRemoved>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChannelRemoved Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __channelid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChannelRemoved value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_UserTypingEvent_Formatter : IonFormatter<UserTypingEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public UserTypingEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __channelid, __userid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, UserTypingEvent value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_UserStopTypingEvent_Formatter : IonFormatter<UserStopTypingEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public UserStopTypingEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __channelid, __userid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, UserStopTypingEvent value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_JoinedToChannelUser_Formatter : IonFormatter<JoinedToChannelUser>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public JoinedToChannelUser Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __channelid, __userid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, JoinedToChannelUser value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_JoinToServerUser_Formatter : IonFormatter<JoinToServerUser>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public JoinToServerUser Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __userid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, JoinToServerUser value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_LeavedFromChannelUser_Formatter : IonFormatter<LeavedFromChannelUser>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public LeavedFromChannelUser Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __channelid, __userid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, LeavedFromChannelUser value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_UserUpdated_Formatter : IonFormatter<UserUpdated>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public UserUpdated Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __dto = IonFormatterStorage<ArgonUser>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __dto);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, UserUpdated value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<ArgonUser>.Write(writer, value.dto);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_OnUserPresenceActivityChanged_Formatter : IonFormatter<OnUserPresenceActivityChanged>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public OnUserPresenceActivityChanged Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __presence = IonFormatterStorage<UserActivityPresence>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __userid, __presence);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, OnUserPresenceActivityChanged value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<UserActivityPresence>.Write(writer, value.presence);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_OnUserPresenceActivityRemoved_Formatter : IonFormatter<OnUserPresenceActivityRemoved>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public OnUserPresenceActivityRemoved Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __userid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, OnUserPresenceActivityRemoved value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_UserChangedStatus_Formatter : IonFormatter<UserChangedStatus>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public UserChangedStatus Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __status = IonFormatterStorage<UserStatus>.Read(reader);
        var __bag = IonFormatterStorage<string>.ReadArray(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__spaceid, __userid, __status, __bag);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, UserChangedStatus value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<UserStatus>.Write(writer, value.status);
        IonFormatterStorage<string>.WriteArray(writer, value.bag);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MessageSent_Formatter : IonFormatter<MessageSent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MessageSent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __message = IonFormatterStorage<ArgonMessage>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __message);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MessageSent value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<ArgonMessage>.Write(writer, value.message);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ServerModified_Formatter : IonFormatter<ServerModified>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ServerModified Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __bag = IonFormatterStorage<string>.ReadArray(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __bag);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ServerModified value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<string>.WriteArray(writer, value.bag);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_RecordStarted_Formatter : IonFormatter<RecordStarted>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public RecordStarted Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        var __byuserid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __channelid, __byuserid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, RecordStarted value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        IonFormatterStorage<guid>.Write(writer, value.byUserId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_RecordEnded_Formatter : IonFormatter<RecordEnded>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public RecordEnded Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __channelid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, RecordEnded value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_CallIncoming_Formatter : IonFormatter<CallIncoming>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public CallIncoming Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __callid = IonFormatterStorage<guid>.Read(reader);
        var __fromid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__userid, __callid, __fromid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, CallIncoming value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<guid>.Write(writer, value.callId);
        IonFormatterStorage<guid>.Write(writer, value.fromId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_CallFinished_Formatter : IonFormatter<CallFinished>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public CallFinished Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __callid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__userid, __callid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, CallFinished value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<guid>.Write(writer, value.callId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_CallAccepted_Formatter : IonFormatter<CallAccepted>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public CallAccepted Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __callid = IonFormatterStorage<guid>.Read(reader);
        var __fromid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__userid, __callid, __fromid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, CallAccepted value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<guid>.Write(writer, value.callId);
        IonFormatterStorage<guid>.Write(writer, value.fromId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_CallRejected_Formatter : IonFormatter<CallRejected>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public CallRejected Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __callid = IonFormatterStorage<guid>.Read(reader);
        var __fromid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__userid, __callid, __fromid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, CallRejected value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<guid>.Write(writer, value.callId);
        IonFormatterStorage<guid>.Write(writer, value.fromId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_FriendRequestReceivedEvent_Formatter : IonFormatter<FriendRequestReceivedEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public FriendRequestReceivedEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __requesterid = IonFormatterStorage<guid>.Read(reader);
        var __requestdate = IonFormatterStorage<datetime>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__requesterid, __requestdate);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, FriendRequestReceivedEvent value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.requesterId);
        IonFormatterStorage<datetime>.Write(writer, value.requestDate);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_FriendRequestSentEvent_Formatter : IonFormatter<FriendRequestSentEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public FriendRequestSentEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __targetid = IonFormatterStorage<guid>.Read(reader);
        var __requestdate = IonFormatterStorage<datetime>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__targetid, __requestdate);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, FriendRequestSentEvent value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.targetId);
        IonFormatterStorage<datetime>.Write(writer, value.requestDate);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_FriendRequestAcceptedEvent_Formatter : IonFormatter<FriendRequestAcceptedEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public FriendRequestAcceptedEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __friendat = IonFormatterStorage<datetime>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__userid, __friendat);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, FriendRequestAcceptedEvent value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<datetime>.Write(writer, value.friendAt);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_FriendRequestDeclinedEvent_Formatter : IonFormatter<FriendRequestDeclinedEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public FriendRequestDeclinedEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __targetid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__targetid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, FriendRequestDeclinedEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<guid>.Write(writer, value.targetId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_FriendRequestCanceledEvent_Formatter : IonFormatter<FriendRequestCanceledEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public FriendRequestCanceledEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __requesterid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__requesterid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, FriendRequestCanceledEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<guid>.Write(writer, value.requesterId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_FriendshipRemovedEvent_Formatter : IonFormatter<FriendshipRemovedEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public FriendshipRemovedEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __userid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__userid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, FriendshipRemovedEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_UserBlockedEvent_Formatter : IonFormatter<UserBlockedEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public UserBlockedEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __blockid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__blockid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, UserBlockedEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<guid>.Write(writer, value.blockId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_UserUnblockedEvent_Formatter : IonFormatter<UserUnblockedEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public UserUnblockedEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __blockid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__blockid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, UserUnblockedEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<guid>.Write(writer, value.blockId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_RecentChatUpdatedEvent_Formatter : IonFormatter<RecentChatUpdatedEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public RecentChatUpdatedEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __peerid = IonFormatterStorage<guid>.Read(reader);
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __lastmessage = reader.ReadNullable<string>();
        var __lastmessageat = IonFormatterStorage<datetime>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__peerid, __userid, __lastmessage, __lastmessageat);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, RecentChatUpdatedEvent value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<guid>.Write(writer, value.peerId);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<string>.WriteNullable(writer, value.lastMessage);
        IonFormatterStorage<datetime>.Write(writer, value.lastMessageAt);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChatPinnedEvent_Formatter : IonFormatter<ChatPinnedEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChatPinnedEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __peerid = IonFormatterStorage<guid>.Read(reader);
        var __pinnedat = IonFormatterStorage<datetime>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__peerid, __pinnedat);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChatPinnedEvent value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.peerId);
        IonFormatterStorage<datetime>.Write(writer, value.pinnedAt);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChatUnpinnedEvent_Formatter : IonFormatter<ChatUnpinnedEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChatUnpinnedEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __peerid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__peerid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChatUnpinnedEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<guid>.Write(writer, value.peerId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChatReadEvent_Formatter : IonFormatter<ChatReadEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChatReadEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __peerid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__peerid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChatReadEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<guid>.Write(writer, value.peerId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChannelGroupCreated_Formatter : IonFormatter<ChannelGroupCreated>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChannelGroupCreated Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __data = IonFormatterStorage<ChannelGroup>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __data);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChannelGroupCreated value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<ChannelGroup>.Write(writer, value.data);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChannelGroupModified_Formatter : IonFormatter<ChannelGroupModified>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChannelGroupModified Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __groupid = IonFormatterStorage<guid>.Read(reader);
        var __data = IonFormatterStorage<ChannelGroup>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __groupid, __data);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChannelGroupModified value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.groupId);
        IonFormatterStorage<ChannelGroup>.Write(writer, value.data);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChannelGroupRemoved_Formatter : IonFormatter<ChannelGroupRemoved>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChannelGroupRemoved Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __groupid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __groupid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChannelGroupRemoved value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.groupId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChannelGroupReordered_Formatter : IonFormatter<ChannelGroupReordered>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChannelGroupReordered Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __groupid = IonFormatterStorage<guid>.Read(reader);
        var __fractionalindex = IonFormatterStorage<string>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __groupid, __fractionalindex);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChannelGroupReordered value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.groupId);
        IonFormatterStorage<string>.Write(writer, value.fractionalIndex);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_ChannelReordered_Formatter : IonFormatter<ChannelReordered>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public ChannelReordered Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        var __targetgroupid = reader.ReadNullable<guid>();
        var __fractionalindex = IonFormatterStorage<string>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 4);
        return new(__spaceid, __channelid, __targetgroupid, __fractionalindex);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, ChannelReordered value)
    {
        writer.WriteStartArray(4);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        IonFormatterStorage<guid>.WriteNullable(writer, value.targetGroupId);
        IonFormatterStorage<string>.Write(writer, value.fractionalIndex);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_DirectMessageSent_Formatter : IonFormatter<DirectMessageSent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public DirectMessageSent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __senderid = IonFormatterStorage<guid>.Read(reader);
        var __receiverid = IonFormatterStorage<guid>.Read(reader);
        var __message = IonFormatterStorage<DirectMessage>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__senderid, __receiverid, __message);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, DirectMessageSent value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.senderId);
        IonFormatterStorage<guid>.Write(writer, value.receiverId);
        IonFormatterStorage<DirectMessage>.Write(writer, value.message);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_UpdatedNotificationCounters_Formatter : IonFormatter<UpdatedNotificationCounters>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public UpdatedNotificationCounters Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __counters = IonFormatterStorage<NotificationCounterKv>.ReadArray(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__userid, __counters);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, UpdatedNotificationCounters value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<NotificationCounterKv>.WriteArray(writer, value.counters);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_UserSecurityDetailsUpdated_Formatter : IonFormatter<UserSecurityDetailsUpdated>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public UserSecurityDetailsUpdated Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __userid = IonFormatterStorage<guid>.Read(reader);
        var __details = IonFormatterStorage<SecurityDetails>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__userid, __details);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, UserSecurityDetailsUpdated value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.userId);
        IonFormatterStorage<SecurityDetails>.Write(writer, value.details);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_SpaceDetailsUpdated_Formatter : IonFormatter<SpaceDetailsUpdated>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public SpaceDetailsUpdated Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __details = IonFormatterStorage<ArgonSpaceBase>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 2);
        return new(__spaceid, __details);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, SpaceDetailsUpdated value)
    {
        writer.WriteStartArray(2);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<ArgonSpaceBase>.Write(writer, value.details);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MeetingCreatedFor_Formatter : IonFormatter<MeetingCreatedFor>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MeetingCreatedFor Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        var __meetinfo = IonFormatterStorage<LinkedMeetingInfo>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __channelid, __meetinfo);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MeetingCreatedFor value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        IonFormatterStorage<LinkedMeetingInfo>.Write(writer, value.meetInfo);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_MeetingDeletedFor_Formatter : IonFormatter<MeetingDeletedFor>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public MeetingDeletedFor Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __spaceid = IonFormatterStorage<guid>.Read(reader);
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        var __meetinfo = IonFormatterStorage<LinkedMeetingInfo>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 3);
        return new(__spaceid, __channelid, __meetinfo);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, MeetingDeletedFor value)
    {
        writer.WriteStartArray(3);
        IonFormatterStorage<guid>.Write(writer, value.spaceId);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        IonFormatterStorage<LinkedMeetingInfo>.Write(writer, value.meetInfo);
        writer.WriteEndArray();
    }
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public interface IArgonClientEvent : IIonUnion<IArgonClientEvent>
{
    string UnionKey { get; }
    uint UnionIndex { get; }
    
    
    internal bool IsIAmTypingEvent => this is IAmTypingEvent;

    internal bool IsIAmStopTypingEvent => this is IAmStopTypingEvent;

    internal bool IsHeartBeatEvent => this is HeartBeatEvent;

    internal bool IsSubscribeToMySpaces => this is SubscribeToMySpaces;

}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record IAmTypingEvent(guid channelId) : IArgonClientEvent
{
    public string UnionKey => nameof(IAmTypingEvent);
    public uint UnionIndex => 0;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record IAmStopTypingEvent(guid channelId) : IArgonClientEvent
{
    public string UnionKey => nameof(IAmStopTypingEvent);
    public uint UnionIndex => 1;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record HeartBeatEvent(UserStatus status) : IArgonClientEvent
{
    public string UnionKey => nameof(HeartBeatEvent);
    public uint UnionIndex => 2;
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed record SubscribeToMySpaces() : IArgonClientEvent
{
    public string UnionKey => nameof(SubscribeToMySpaces);
    public uint UnionIndex => 3;
}



[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_IArgonClientEvent_Formatter : IonFormatter<IArgonClientEvent>
{
    public IArgonClientEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");
        var unionIndex = reader.ReadUInt32();
        IArgonClientEvent result;
        if (false) {}
        
        else if (unionIndex == 0)
            result = IonFormatterStorage<IAmTypingEvent>.Read(reader);

        else if (unionIndex == 1)
            result = IonFormatterStorage<IAmStopTypingEvent>.Read(reader);

        else if (unionIndex == 2)
            result = IonFormatterStorage<HeartBeatEvent>.Read(reader);

        else if (unionIndex == 3)
            result = IonFormatterStorage<SubscribeToMySpaces>.Read(reader);

        else
            throw new InvalidOperationException();
        reader.ReadEndArray();
        return result;
    }

    public void Write(CborWriter writer, IArgonClientEvent value)
    {
        writer.WriteStartArray(2);
        writer.WriteUInt32(value.UnionIndex);

        if (false) {}
        
        else if (value is IAmTypingEvent n_0)
        {
            if (n_0.UnionIndex != 0)
                throw new InvalidOperationException();
            IonFormatterStorage<IAmTypingEvent>.Write(writer, n_0);
        }

        else if (value is IAmStopTypingEvent n_1)
        {
            if (n_1.UnionIndex != 1)
                throw new InvalidOperationException();
            IonFormatterStorage<IAmStopTypingEvent>.Write(writer, n_1);
        }

        else if (value is HeartBeatEvent n_2)
        {
            if (n_2.UnionIndex != 2)
                throw new InvalidOperationException();
            IonFormatterStorage<HeartBeatEvent>.Write(writer, n_2);
        }

        else if (value is SubscribeToMySpaces n_3)
        {
            if (n_3.UnionIndex != 3)
                throw new InvalidOperationException();
            IonFormatterStorage<SubscribeToMySpaces>.Write(writer, n_3);
        }
    
        else
            throw new InvalidOperationException();
        writer.WriteEndArray();    
    }
}


[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_IAmTypingEvent_Formatter : IonFormatter<IAmTypingEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public IAmTypingEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__channelid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, IAmTypingEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_IAmStopTypingEvent_Formatter : IonFormatter<IAmStopTypingEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public IAmStopTypingEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __channelid = IonFormatterStorage<guid>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__channelid);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, IAmStopTypingEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<guid>.Write(writer, value.channelId);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_HeartBeatEvent_Formatter : IonFormatter<HeartBeatEvent>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public HeartBeatEvent Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        var __status = IonFormatterStorage<UserStatus>.Read(reader);
        reader.ReadEndArrayAndSkip(arraySize - 1);
        return new(__status);
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, HeartBeatEvent value)
    {
        writer.WriteStartArray(1);
        IonFormatterStorage<UserStatus>.Write(writer, value.status);
        writer.WriteEndArray();
    }
}

[GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
public sealed class Ion_SubscribeToMySpaces_Formatter : IonFormatter<SubscribeToMySpaces>
{
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public SubscribeToMySpaces Read(CborReader reader)
    {
        var arraySize = reader.ReadStartArray() ?? throw new Exception("undefined len array not allowed");;
        
        reader.ReadEndArrayAndSkip(arraySize - 0);
        return new();
    }
    
    [GeneratedCodeAttribute("ionc", null), CompilerGeneratedAttribute]
    public void Write(CborWriter writer, SubscribeToMySpaces value)
    {
        writer.WriteStartArray(0);
        
        writer.WriteEndArray();
    }
}


